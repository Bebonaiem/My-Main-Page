<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop - Partner Hosting Store</title>
    <link href="https://fonts.googleapis.com/css2?family=Minecraft&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="container header-container">
            <a href="index.html" class="logo">
                <img src="img/Logo.webp" alt="Partner Hosting Logo">
                <h1>Partner Hosting Store</h1>
            </a>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="shop.html" class="active">Shop</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="shop-header section-header-animate">
        <div class="container">
            <h1>Partner Hosting Store</h1>
            <p>Browse our selection of ranks, kits, and other items to enhance your Minecraft experience</p>
        </div>
    </section>

    <div class="container">
        <div class="shop-filters">
            <div class="filter-group">
                <label for="category">Category:</label>
                <select id="category">
                    <option value="all">All Items</option>
                    <option value="ranks">Ranks</option>
                    <option value="kits">Kits</option>
                    <option value="cosmetics">Cosmetics</option>
                    <option value="boosters">Boosters</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="sort">Sort By:</label>
                <select id="sort">
                    <option value="popular">Most Popular</option>
                    <option value="price-low">Price: Low to High</option>
                    <option value="price-high">Price: High to Low</option>
                    <option value="newest">Newest</option>
                </select>
            </div>
            <div class="filter-group">
                <input type="text" id="search-input" placeholder="Search items...">
                <!-- Search button removed for live search -->
            </div>
        </div>

        <div class="items-grid" id="shop-items-grid">
            <!-- Items will be dynamically loaded here by JavaScript -->
        </div>

        <div class="pagination" id="pagination-controls">
            <!-- Pagination will be dynamically loaded here by JavaScript -->
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="shop.html">Shop</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Support</h3>
                    <ul>
                        <li><a href="FAQ.html">FAQ</a></li>
                        <li><a href="terms.html">Terms of Service</a></li>
                        <li><a href="privacy.html">Privacy Policy</a></li>
                        <li><a href="refund.html">Refund Policy</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Connect With Us</h3>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-discord"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>© 2025 Partner Hosting Store. Not affiliated with Mojang or Microsoft. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Item data (extracted from the original HTML and expanded)
        const allProducts = [
            {
                id: 'diamond-rank',
                name: 'Diamond Rank',
                category: 'ranks',
                price: 14.99,
                description: 'Premium rank with exclusive perks and commands.',
                image: 'img/Diamond Rank.png',
                popularity: 100, // Added for sorting
                dateAdded: '2025-01-15', // Added for sorting
                buyLink: '#'
            },
            {
                id: 'gold-rank',
                name: 'Gold Rank',
                category: 'ranks',
                price: 9.99,
                description: 'Great value rank with many useful features.',
                image: 'img/Gold Rank.png',
                popularity: 80,
                dateAdded: '2025-02-01',
                buyLink: '#'
            },
            {
                id: 'iron-rank',
                name: 'Iron Rank',
                category: 'ranks',
                price: 4.99,
                description: 'Basic rank with essential perks for new players.',
                image: 'img/Iron Rank.png',
                popularity: 120,
                dateAdded: '2025-01-05',
                buyLink: '#'
            },
            {
                id: 'starter-kit',
                name: 'Starter Kit',
                category: 'kits',
                price: 2.99,
                description: 'Perfect kit to get you started on the server.',
                image: 'img/Starter Kit.png',
                popularity: 90,
                dateAdded: '2025-03-10',
                buyLink: '#'
            },
            {
                id: 'emerald-rank',
                name: 'Emerald Rank',
                category: 'ranks',
                price: 19.99,
                description: 'Ultimate rank with all perks and VIP benefits.',
                image: 'img/Emerald Rank.png',
                popularity: 110,
                dateAdded: '2025-04-20',
                buyLink: '#'
            },
            {
                id: 'vip-kit',
                name: 'VIP Kit',
                category: 'kits',
                price: 7.99,
                description: 'Special items and gear for VIP players.',
                image: 'img/Vip Kit.png',
                popularity: 75,
                dateAdded: '2025-02-25',
                buyLink: '#'
            },
            {
                id: 'netherite-kit',
                name: 'Netherite Kit',
                category: 'kits',
                price: 12.99,
                description: 'High-end gear for advanced players.',
                image: 'img/Netherite Kit.png',
                popularity: 60,
                dateAdded: '2025-05-01',
                buyLink: '#'
            },
            {
                id: 'dragon-pet',
                name: 'Dragon Pet',
                category: 'cosmetics',
                price: 5.99,
                description: 'Exclusive cosmetic dragon pet.',
                image: 'img/Dragon Pet.png',
                popularity: 95,
                dateAdded: '2025-03-01',
                buyLink: '#'
            },
            {
                id: 'xp-booster',
                name: 'XP Booster',
                category: 'boosters',
                price: 3.99,
                description: 'Boost your experience gain for a limited time.',
                image: 'img/XP Booster.png',
                popularity: 70,
                dateAdded: '2025-06-05',
                buyLink: '#'
            },
            {
                id: 'fly-pass',
                name: 'Fly Pass',
                category: 'boosters',
                price: 6.99,
                description: 'Temporary access to flight on the server.',
                image: 'img/Fly Pass.png',
                popularity: 85,
                dateAdded: '2025-04-10',
                buyLink: '#'
            },
            {
                id: 'lucky-block',
                name: 'Lucky Block',
                category: 'cosmetics',
                price: 1.99,
                description: 'A block that grants random rewards.',
                image: 'img/Lucky Block.png',
                popularity: 70,
                dateAdded: '2025-07-15',
                buyLink: '#'
            },
            {
                id: 'eff-enchant',
                name: 'Efficiency V Enchant',
                category: 'boosters',
                price: 8.50,
                description: 'Enchant your tools with maximum efficiency.',
                image: 'img/Efficiency V Enchant.png',
                popularity: 65,
                dateAdded: '2025-08-01',
                buyLink: '#'
            },
            {
                id: 'custom-hat',
                name: 'Custom Hat Cosmetic',
                category: 'cosmetics',
                price: 4.00,
                description: 'Stand out with a unique custom hat.',
                image: 'img/Custom Hat Cosmetic.png',
                popularity: 80,
                dateAdded: '2025-09-10',
                buyLink: '#'
            }
        ];

        let currentPage = 1;
        const itemsPerPage = 12; // Display 12 items per page

        const shopItemsGrid = document.getElementById('shop-items-grid');
        const categoryFilter = document.getElementById('category');
        const sortFilter = document.getElementById('sort');
        const searchInput = document.getElementById('search-input');
        const searchButton = document.getElementById('search-button');
        const paginationControls = document.getElementById('pagination-controls');

        function renderProducts(productsToRender) {
            shopItemsGrid.innerHTML = ''; // Clear existing items

            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const paginatedProducts = productsToRender.slice(startIndex, endIndex);

            if (paginatedProducts.length === 0) {
                shopItemsGrid.innerHTML = '<p style="text-align: center; font-size: 20px; color: var(--mc-light-gray); padding: 40px;">No items found matching your criteria.</p>';
                return;
            }

            paginatedProducts.forEach(item => {
                const itemCard = document.createElement('div');
                itemCard.classList.add('item-card');
                itemCard.innerHTML = `
                    <div class="item-image">
                        <img src="${item.image}" alt="${item.name}">
                    </div>
                    <div class="item-details">
                        <h3 class="item-title">${item.name}</h3>
                        <p class="item-price">$${item.price.toFixed(2)}</p>
                        <p class="item-description">${item.description}</p>
                        <div class="item-actions">
                            <a href="${item.buyLink}" class="btn btn-sm" target="_blank">Buy</a>
                        </div>
                    </div>
                `;
                shopItemsGrid.appendChild(itemCard);
            });

            // No specific JavaScript click handler needed for "Buy" buttons anymore,
            // as they will now follow their `href` attribute directly.
        }

        function renderPagination(totalItems) {
            paginationControls.innerHTML = '';
            const totalPages = Math.ceil(totalItems / itemsPerPage);

            if (totalPages <= 1) return; // No pagination needed for 1 or less pages

            const createPageLink = (page, text, isActive = false) => {
                const link = document.createElement('a');
                link.href = '#'; // Pagination links still use # and preventDefault
                link.textContent = text;
                if (isActive) {
                    link.classList.add('active');
                }
                link.addEventListener('click', (e) => {
                    e.preventDefault(); // Prevent page reload/scroll for pagination links
                    if (page !== currentPage) {
                        currentPage = page;
                        updateShop();
                    }
                });
                return link;
            };

            // Previous button
            if (currentPage > 1) {
                paginationControls.appendChild(createPageLink(currentPage - 1, '«'));
            }

            // Page numbers
            // Show a maximum of 5 page numbers around the current page
            let startPage = Math.max(1, currentPage - 2);
            let endPage = Math.min(totalPages, currentPage + 2);

            // Adjust start/end to always show 5 pages if possible
            if (startPage === 1) endPage = Math.min(totalPages, 5);
            if (endPage === totalPages) startPage = Math.max(1, totalPages - 4);


            for (let i = startPage; i <= endPage; i++) {
                paginationControls.appendChild(createPageLink(i, i, i === currentPage));
            }

            // Next button
            if (currentPage < totalPages) {
                paginationControls.appendChild(createPageLink(currentPage + 1, '»'));
            }
        }

        function updateShop() {
            const selectedCategory = categoryFilter.value;
            const selectedSort = sortFilter.value;
            const searchTerm = searchInput.value.toLowerCase().trim();

            let filteredProducts = allProducts.filter(item => {
                const matchesCategory = selectedCategory === 'all' || item.category === selectedCategory;
                const matchesSearch = item.name.toLowerCase().includes(searchTerm) || item.description.toLowerCase().includes(searchTerm);
                return matchesCategory && matchesSearch;
            });

            switch (selectedSort) {
                case 'popular':
                    filteredProducts.sort((a, b) => b.popularity - a.popularity);
                    break;
                case 'price-low':
                    filteredProducts.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    filteredProducts.sort((a, b) => b.price - a.price);
                    break;
                case 'newest':
                    // Assuming dateAdded is in YYYY-MM-DD format for easy comparison
                    filteredProducts.sort((a, b) => new Date(b.dateAdded) - new Date(a.dateAdded));
                    break;
                default:
                    // Default to popular or some other stable sort if no valid option
                    filteredProducts.sort((a, b) => b.popularity - a.popularity);
                    break;
            }

            renderProducts(filteredProducts);
            renderPagination(filteredProducts.length);
        }

        // Event Listeners
        categoryFilter.addEventListener('change', () => {
            currentPage = 1; // Reset to first page on filter change
            updateShop();
        });
        sortFilter.addEventListener('change', () => {
            currentPage = 1; // Reset to first page on sort change
            updateShop();
        });
        // Live search: update results as user types
        searchInput.addEventListener('input', () => {
            currentPage = 1; // Reset to first page on search
            updateShop();
        });


        // Initial load of the shop items when the page content is ready
        document.addEventListener('DOMContentLoaded', updateShop);

        // Section header scroll-in animation
        document.addEventListener('DOMContentLoaded', function() {
            const headers = document.querySelectorAll('.section-header-animate');
            const observer = new IntersectionObserver((entries, obs) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('slide-in');
                        obs.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.2 });
            headers.forEach(header => {
                observer.observe(header);
            });
        });
    </script>
</body>
</html>