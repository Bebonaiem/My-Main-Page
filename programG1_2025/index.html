<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø§Ù…ØªØ­Ø§Ù† Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© - Pro Version</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;500;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #121212;
            --bg-card: #1E1E1E;
            --primary-color: #BB86FC;
            --primary-variant: #3700B3;
            --secondary-color: #03DAC6;
            --error-color: #CF6679;
            --gold-color: #FFD700;
            --text-high: #E0E0E0;
            --text-med: #A0A0A0;
            --border-color: #333333;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Tajawal', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--bg-dark);
            background-image: radial-gradient(circle at 10% 20%, rgba(187, 134, 252, 0.05) 0%, transparent 20%);
            color: var(--text-high);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding-bottom: 90px;
        }

        .container {
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            flex: 1;
        }

        /* --- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© --- */
        #start-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 80vh;
            text-align: center;
            padding-top: 40px;
        }

        .glow-icon {
            filter: drop-shadow(0 0 15px rgba(187, 134, 252, 0.5));
            margin-bottom: 20px;
            transition: transform 0.3s;
        }
        
        .glow-icon:hover { transform: scale(1.1); }

        h1 {
            color: var(--primary-color);
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(187, 134, 252, 0.3);
        }

        .high-score-badge {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid var(--gold-color);
            color: var(--gold-color);
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: bold;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.2);
        }

        /* --- Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…ÙŠØ¯ÙŠØ§ --- */
        .media-section {
            width: 100%;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.03);
            padding: 15px;
            border-radius: 16px;
            border: 1px solid var(--border-color);
        }

        .media-title {
            color: var(--text-med);
            margin-bottom: 10px;
            font-size: 0.9rem;
            text-align: right;
        }

        .media-btn-group {
            margin-bottom: 10px;
        }

        .toggle-btn {
            background: #2C2C2C;
            color: var(--text-high);
            border: 1px solid var(--border-color);
            width: 100%;
            padding: 12px;
            border-radius: 12px;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .toggle-btn:hover { background: #333; }
        .toggle-btn.active { border-color: var(--secondary-color); color: var(--secondary-color); }

        .sub-options {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            overflow: hidden;
            max-height: 0;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .sub-options.show {
            max-height: 100px;
            opacity: 1;
        }

        .action-btn {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            text-decoration: none; /* Ù„Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø®Ø· Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø· */
        }

        .btn-play { background: rgba(3, 218, 198, 0.2); color: var(--secondary-color); }
        .btn-play:hover { background: rgba(3, 218, 198, 0.3); }

        .btn-download { background: rgba(187, 134, 252, 0.2); color: var(--primary-color); }
        .btn-download:hover { background: rgba(187, 134, 252, 0.3); }

        /* --- Modal Player --- */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }
        
        .modal-overlay.active { opacity: 1; pointer-events: auto; }

        .modal-content {
            background: var(--bg-card);
            padding: 20px;
            border-radius: 16px;
            width: 90%;
            max-width: 500px;
            position: relative;
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .close-modal {
            position: absolute;
            top: 10px; right: 15px;
            background: none;
            border: none;
            color: var(--error-color);
            font-size: 1.5rem;
            cursor: pointer;
        }

        audio, video { width: 100%; border-radius: 8px; margin-top: 15px; outline: none; }

        /* --- Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© --- */
        .main-btn {
            background: linear-gradient(135deg, var(--primary-variant), var(--primary-color));
            color: #fff;
            border: none;
            width: 100%;
            padding: 18px;
            border-radius: 16px;
            font-size: 1.2rem;
            font-weight: 800;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(187, 134, 252, 0.4);
            transition: transform 0.2s;
            margin-top: 10px;
        }

        .main-btn:active { transform: scale(0.97); }
        .main-btn:disabled {
            background: #333;
            color: #777;
            box-shadow: none;
            cursor: not-allowed;
        }

        /* --- Ø´Ø§Ø´Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ --- */
        .progress-container { margin-bottom: 25px; }
        .progress-track {
            height: 6px;
            background: #333;
            border-radius: 10px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: var(--secondary-color);
            width: 0%;
            transition: width 0.4s ease;
            box-shadow: 0 0 10px var(--secondary-color);
        }
        
        .question-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 24px;
            padding: 30px 20px;
            margin-bottom: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            animation: fadeIn 0.5s ease;
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 25px;
            color: var(--text-high);
        }

        .option-btn {
            background: #2C2C2C;
            border: 2px solid transparent;
            border-radius: 16px;
            padding: 18px 20px;
            margin-bottom: 12px;
            color: var(--text-high);
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            text-align: right;
            font-weight: 500;
        }

        .option-btn.selected {
            background: rgba(187, 134, 252, 0.15);
            border-color: var(--primary-color);
            color: var(--primary-color);
        }
        
        .option-btn.selected::after {
            content: 'â—';
            color: var(--primary-color);
            position: absolute;
            left: 20px;
            font-size: 1.2rem;
        }

        /* --- Footer --- */
        .fixed-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 20px;
            background: rgba(18, 18, 18, 0.85);
            backdrop-filter: blur(12px);
            border-top: 1px solid rgba(255,255,255,0.05);
            z-index: 100;
            display: none;
        }

        /* --- Ø§Ù„Ù†ØªÙŠØ¬Ø© --- */
        .score-circle {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            background: var(--bg-card);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--secondary-color);
            border: 5px solid var(--secondary-color);
            box-shadow: 0 0 30px rgba(3, 218, 198, 0.3);
        }

        .new-record-msg {
            color: var(--gold-color);
            font-weight: bold;
            margin-top: 10px;
            animation: pulse 1s infinite;
            display: none;
        }

        .review-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 15px;
            border-right: 4px solid var(--error-color);
        }
        
        .ans-box { padding: 10px; border-radius: 8px; margin-bottom: 6px; font-size: 0.95rem; }
        .wrong-ans { background: rgba(207, 102, 121, 0.15); color: var(--error-color); }
        .correct-ans { background: rgba(3, 218, 198, 0.15); color: var(--secondary-color); font-weight: bold; }
        
        .hidden { display: none !important; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }

    </style>
</head>
<body>

    <!-- 1. Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
    <div id="start-screen" class="container">
        <img src="https://cdn-icons-png.flaticon.com/512/2920/2920323.png" width="80" class="glow-icon" alt="Quiz">
        <h1>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©</h1>
        
        <div class="high-score-badge">
            <span>ğŸ† Ø£ÙØ¶Ù„ Ù†ØªÙŠØ¬Ø©:</span>
            <span id="best-score-display">0</span>
        </div>

        <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…ÙŠØ¯ÙŠØ§ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© -->
        <div class="media-section">
            <div class="media-title">Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ§Ù„Ù…Ù„Ø®ØµØ§Øª</div>
            
            <!-- Ø²Ø± Ø§Ù„ØµÙˆØª -->
            <div class="media-btn-group">
                <button class="toggle-btn" onclick="toggleMedia('audio-ops', this)">
                    <span>ğŸ§ Ù…Ù„Ø®Øµ Ø§Ù„Ø³ÙƒØ§Ø´Ù† (ØµÙˆØª)</span>
                    <span>â–¼</span>
                </button>
                <div id="audio-ops" class="sub-options">
                    <button class="action-btn btn-play" onclick="openMedia('audio', 'Ù…Ù„Ø®Øµ Ø³ÙƒØ§Ø´Ù† Ù…Ù‚Ø¯Ù…Ø© ÙÙŠ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ÙÙˆÙŠØ³.mp3')">
                        â–¶ Ø§Ø³ØªÙ…Ø§Ø¹ Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†
                    </button>
                    <!-- ØªØ¹Ø¯ÙŠÙ„ Ø²Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù„ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ù…Ø¨Ø§Ø´Ø± -->
                    <button class="action-btn btn-download" onclick="downloadFile('Ù…Ù„Ø®Øµ Ø³ÙƒØ§Ø´Ù† Ù…Ù‚Ø¯Ù…Ø© ÙÙŠ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ÙÙˆÙŠØ³.mp3')">
                        â¬‡ ØªØ­Ù…ÙŠÙ„ Ù„Ù„Ø¬Ù‡Ø§Ø²
                    </button>
                </div>
            </div>

            <!-- Ø²Ø± Ø§Ù„ÙÙŠØ¯ÙŠÙˆ -->
            <div class="media-btn-group">
                <button class="toggle-btn" onclick="toggleMedia('video-ops', this)">
                    <span>ğŸ“º Ù…Ù„Ø®Øµ Ø§Ù„Ø³ÙƒØ§Ø´Ù† (ÙÙŠØ¯ÙŠÙˆ)</span>
                    <span>â–¼</span>
                </button>
                <div id="video-ops" class="sub-options">
                    <button class="action-btn btn-play" onclick="openMedia('video', 'Ù…Ù„Ø®Øµ Ø³ÙƒØ§Ø´Ù† Ù…Ù‚Ø¯Ù…Ø© ÙÙŠ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ÙÙŠØ¯ÙŠÙˆ.mp4')">
                        â–¶ Ù…Ø´Ø§Ù‡Ø¯Ø© Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†
                    </button>
                    <!-- ØªØ¹Ø¯ÙŠÙ„ Ø²Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù„ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ù…Ø¨Ø§Ø´Ø± -->
                    <button class="action-btn btn-download" onclick="downloadFile('Ù…Ù„Ø®Øµ Ø³ÙƒØ§Ø´Ù† Ù…Ù‚Ø¯Ù…Ø© ÙÙŠ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ÙÙŠØ¯ÙŠÙˆ.mp4')">
                        â¬‡ ØªØ­Ù…ÙŠÙ„ Ù„Ù„Ø¬Ù‡Ø§Ø²
                    </button>
                </div>
            </div>
        </div>

        <button class="main-btn" onclick="startQuiz()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ğŸš€</button>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙŠØ¯ÙŠØ§ (Modal) -->
    <div id="media-modal" class="modal-overlay">
        <div class="modal-content">
            <button class="close-modal" onclick="closeMedia()">Ã—</button>
            <h3 id="modal-title" style="color:var(--secondary-color); margin-bottom:10px;">ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ù„Ù</h3>
            <div id="player-container"></div>
        </div>
    </div>

    <!-- 2. Ø´Ø§Ø´Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ -->
    <div id="quiz-screen" class="container hidden">
        <div class="progress-container">
            <div style="display:flex; justify-content:space-between; margin-bottom:10px; color:var(--text-med);">
                <span id="q-idx">Ø³Ø¤Ø§Ù„ 1</span>
                <span id="q-total">35</span>
            </div>
            <div class="progress-track">
                <div id="p-bar" class="progress-fill"></div>
            </div>
        </div>

        <div class="question-card">
            <div id="q-text" class="question-text">Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„...</div>
            <div id="options-container"></div>
        </div>
        <div style="height: 60px;"></div>
    </div>

    <!-- 3. Ø²Ø± Ø¹Ø§Ø¦Ù… -->
    <div id="footer" class="fixed-footer">
        <button id="next-btn" class="main-btn" onclick="nextQuestion()" disabled>ØªØ£ÙƒÙŠØ¯ ÙˆØªØ§Ù„ÙŠ âœ</button>
    </div>

    <!-- 4. Ø§Ù„Ù†ØªÙŠØ¬Ø© -->
    <div id="result-screen" class="container hidden">
        <div style="text-align:center; padding:30px 0;">
            <div id="score-circle" class="score-circle">0%</div>
            <h2 id="result-msg" style="margin-bottom:10px;">Ø§Ù„Ù†ØªÙŠØ¬Ø©</h2>
            <div id="new-record-msg" class="new-record-msg">ğŸŒŸ Ø±Ù‚Ù… Ù‚ÙŠØ§Ø³ÙŠ Ø¬Ø¯ÙŠØ¯! ğŸŒŸ</div>
        </div>

        <div id="review-area" style="margin-top:30px;" class="hidden">
            <h3 style="color:var(--primary-color); margin-bottom:15px;">Ø§Ù„Ø£Ø®Ø·Ø§Ø¡:</h3>
            <div id="review-list"></div>
        </div>

        <button class="main-btn" onclick="restartQuiz()" style="margin-top:30px;">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ğŸ”„</button>
        <div style="height: 50px;"></div>
    </div>

    <script>
        // --- Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ù…ÙŠØ¯ÙŠØ§ ÙˆØ§Ù„ØªØ­Ù…ÙŠÙ„ ---
        
        function toggleMedia(id, btn) {
            const el = document.getElementById(id);
            document.querySelectorAll('.sub-options').forEach(div => {
                if (div.id !== id) div.classList.remove('show');
            });
            document.querySelectorAll('.toggle-btn').forEach(b => {
                if (b !== btn) b.classList.remove('active');
            });
            el.classList.toggle('show');
            btn.classList.toggle('active');
        }

        function openMedia(type, src) {
            const modal = document.getElementById('media-modal');
            const container = document.getElementById('player-container');
            const title = document.getElementById('modal-title');
            
            modal.classList.add('active');
            container.innerHTML = '';

            if (type === 'audio') {
                title.innerText = "ğŸ§ Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ù„Ù…Ù„Ø®Øµ";
                container.innerHTML = `
                    <audio controls autoplay style="width:100%">
                        <source src="${src}" type="audio/mp4">
                        <source src="${src}" type="audio/mpeg">
                        Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª.
                    </audio>
                `;
            } else {
                title.innerText = "ğŸ“º Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ù…Ù„Ø®Øµ";
                container.innerHTML = `
                    <video controls autoplay style="width:100%; max-height:60vh;">
                        <source src="${src}" type="video/mp4">
                        Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ.
                    </video>
                `;
            }
        }

        function closeMedia() {
            const modal = document.getElementById('media-modal');
            modal.classList.remove('active');
            document.getElementById('player-container').innerHTML = '';
        }

        // --- Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­Ø¯Ø«Ø© (ØªØ¬Ø¨Ø± Ø§Ù„ØªÙ†Ø²ÙŠÙ„) ---
        async function downloadFile(fileName) {
            try {
                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ù€ Blob Ù„Ø¥Ø¬Ø¨Ø§Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„
                const response = await fetch(fileName);
                if (!response.ok) throw new Error("Network error");
                
                const blob = await response.blob();
                const url = window.URL.createObjectURL(blob);
                
                const link = document.createElement('a');
                link.style.display = 'none';
                link.href = url;
                link.download = fileName; // Ù‡Ø°Ø§ Ù…Ø§ ÙŠØ­Ø¯Ø¯ Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù Ø¹Ù†Ø¯ Ø§Ù„ØªÙ†Ø²ÙŠÙ„
                document.body.appendChild(link);
                
                link.click();
                
                window.URL.revokeObjectURL(url);
                document.body.removeChild(link);
            } catch (err) {
                // Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø© ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„ÙØ´Ù„ (Ø£Ùˆ ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø³ÙŠØ±ÙØ±)
                console.log("Fallback download method");
                const link = document.createElement('a');
                link.href = fileName;
                link.download = fileName;
                link.target = "_blank";
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }
        }

        // --- Ø¨Ø§Ù‚ÙŠ ÙƒÙˆØ¯ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø£ØµÙ„ÙŠ ---
        const sounds = {
            click: new Audio('https://cdn.pixabay.com/audio/2022/03/10/audio_c8c8a73467.mp3'),
            win: new Audio('https://cdn.pixabay.com/audio/2021/08/04/audio_12b0c7443c.mp3'),
            lose: new Audio('https://cdn.pixabay.com/audio/2021/08/09/audio_9788fd890e.mp3')
        };

        function playSound(type) {
            try {
                sounds[type].currentTime = 0;
                sounds[type].volume = 0.5;
                sounds[type].play().catch(e => console.log("Audio blocked"));
            } catch (err) { console.log(err); }
        }

        const STORAGE_KEY = 'vb_quiz_best_score_v1';
        
        function getHighScore() { return localStorage.getItem(STORAGE_KEY) || 0; }
        function saveHighScore(newScore) { localStorage.setItem(STORAGE_KEY, newScore); }

        const questions = [
            { question: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø£Ø¯Ø§Ø© Ø§Ù„ØªÙŠ ØªØ³ØªØ®Ø¯Ù… Ù„Ø¥Ø¯Ø®Ø§Ù„ Ù†ØµÙˆØµ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù„ÙŠÙ‡Ø§ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ØŸ", options: ["Label", "TextBox", "CommandButton", "Frame"], answer: 1 },
            { question: "Ù†ÙˆØ¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ø¹Ù†Ø¯ ÙØªØ­ Visual Basic Ù‡Ùˆ:", options: ["ActiveX DLL", "Standard EXE", "Data Project", "ActiveX Control"], answer: 1 },
            { question: "Ø§Ù„Ø£Ø¯Ø§Ø© Ø§Ù„ØªÙŠ ØªØ³ØªØ®Ø¯Ù… ÙƒØ­Ø§ÙˆÙŠØ© (Container) Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ù‡ÙŠ:", options: ["Frame", "Label", "Timer", "Image"], answer: 0 },
            { question: "Ø£ÙŠ Ø£Ø¯Ø§Ø© ØªØ³ØªÙ‡Ù„Ùƒ Ù…ÙˆØ§Ø±Ø¯ Ø£Ù‚Ù„ Ù„Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±ØŸ", options: ["PictureBox", "Image", "Frame", "TextBox"], answer: 1 },
            { question: "Ù„ØªØºÙŠÙŠØ± Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¸Ø§Ù‡Ø± Ø¹Ù„Ù‰ Ø´Ø±ÙŠØ· Ø§Ù„Ù†Ø§ÙØ°Ø© Ø£Ùˆ Ø§Ù„Ø²Ø± Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø®Ø§ØµÙŠØ©:", options: ["Name", "Text", "Caption", "Interval"], answer: 2 },
            { question: "Ù„ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø§Ù„Ù†Øµ (Ø§Ù„ÙƒØªØ§Ø¨Ø©) Ø¯Ø§Ø®Ù„ Ø§Ù„Ø£Ø¯Ø§Ø© Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø®Ø§ØµÙŠØ©:", options: ["BackColor", "ForeColor", "FillColor", "BorderColor"], answer: 1 },
            { question: "Ù„Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø¹Ù„Ù‰ Ø£ÙƒØ«Ø± Ù…Ù† Ø³Ø·Ø± Ø¯Ø§Ø®Ù„ TextBox Ù†Ø¶Ø¨Ø· Ø§Ù„Ø®Ø§ØµÙŠØ©:", options: ["MultiLine = True", "MultiLine = False", "ScrollBars", "WordWrap"], answer: 0 },
            { question: "Ù„Ø¬Ø¹Ù„ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù†Øµ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø£Ø¯Ø§Ø© Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ† Ù„Ù„ÙŠØ³Ø§Ø± (Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©) Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø®Ø§ØµÙŠØ©:", options: ["Alignment", "RightToLeft", "Visible", "Style"], answer: 1 },
            { question: "Ù„ÙƒÙŠ Ù†ØªÙ…ÙƒÙ† Ù…Ù† ØªÙ„ÙˆÙŠÙ† Ø²Ø± CommandButton ÙŠØ¬Ø¨ ØªØºÙŠÙŠØ± Ø§Ù„Ø®Ø§ØµÙŠØ© Style Ø¥Ù„Ù‰:", options: ["Standard", "Graphical", "3D", "Flat"], answer: 1 },
            { question: "Ù„Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ø¯Ø§Ø© ØªÙ…Ø§Ù…Ø§Ù‹ Ù…Ù† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø®Ø§ØµÙŠØ©:", options: ["Enabled = False", "Visible = False", "Delete", "Clear"], answer: 1 },
            { question: "Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ØµØ­ÙŠØ­ Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†Øµ Ø¯Ø§Ø®Ù„ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ù†Øµ Ø¥Ù„Ù‰ Ø±Ù‚Ù… Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø¬Ù…Ø¹:", options: ["Text1 + Text2", "Val(Text1.Text) + Val(Text2.Text)", "Str(Text1) + Str(Text2)", "Text1 & Text2"], answer: 1 },
            { question: "Ù†Ø§ØªØ¬ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø­Ø³Ø§Ø¨ÙŠØ©: 5 Mod 2 Ù‡Ùˆ:", options: ["2.5", "2", "1", "0"], answer: 2 },
            { question: "Ù†Ø§ØªØ¬ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©: 10 Mod 3 Ù‡Ùˆ:", options: ["3", "1", "3.33", "0"], answer: 1 },
            { question: "Ø§Ù„Ø±Ù…Ø² `^` ÙÙŠ Ù„ØºØ© Ø§Ù„ÙÙŠØ¬ÙˆØ§Ù„ Ø¨ÙŠØ³Ùƒ ÙŠØ±Ù…Ø² Ù„Ø¹Ù…Ù„ÙŠØ©:", options: ["Ø§Ù„Ø¶Ø±Ø¨", "Ø§Ù„Ø£Ø³ (Ø§Ù„Ù‚ÙˆÙ‰)", "Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù‚Ø³Ù…Ø©", "Ø§Ù„Ø¬Ù…Ø¹"], answer: 1 },
            { question: "Ù†Ø§ØªØ¬ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©: 2 + 3 * 4 Ù‡Ùˆ (Ø­Ø³Ø¨ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ§Øª):", options: ["20", "14", "10", "24"], answer: 1 },
            { question: "Ù‚ÙŠÙ…Ø© Interval Ù„Ù„Ø£Ø¯Ø§Ø© Timer Ù„ØªØ¹Ù…Ù„ ÙƒÙ„ Ø«Ø§Ù†ÙŠØ© ÙˆØ§Ø­Ø¯Ø© Ù‡ÙŠ:", options: ["100", "10", "1000", "500"], answer: 2 },
            { question: "Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„ØªÙŠ ØªØ¹ÙŠØ¯ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…Ø¹Ø§Ù‹ Ù‡ÙŠ:", options: ["Date", "Time", "Now", "Today"], answer: 2 },
            { question: "Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬ 'Ø§Ù„Ø³Ø§Ø¹Ø§Øª' ÙÙ‚Ø· Ù…Ù† Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ Ù‡Ùˆ:", options: ["Minute(Now)", "Hour(Now)", "Second(Now)", "Time(Now)"], answer: 1 },
            { question: "Ù„ØªØ­ÙˆÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„ÙˆÙ‚Øª Ù…Ù† 24 Ø³Ø§Ø¹Ø© Ø¥Ù„Ù‰ 12 Ø³Ø§Ø¹Ø© Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©:", options: ["h = h + 12", "h = h - 12", "h = h * 12", "h = h / 12"], answer: 1 },
            { question: "Ù…ÙØªØ§Ø­ Ø§Ø®ØªØµØ§Ø± ÙØªØ­ Ù…Ø­Ø±Ø± Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… (Menu Editor) Ù‡Ùˆ:", options: ["Ctrl + C", "Ctrl + V", "Ctrl + E", "F5"], answer: 2 },
            { question: "Ù„Ø¹Ù…Ù„ Ø®Ø· ÙØ§ØµÙ„ (Separator) ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©ØŒ Ù†ÙƒØªØ¨ ÙÙŠ Ø§Ù„Ù€ Caption Ø§Ù„Ø±Ù…Ø²:", options: ["_", "-", "*", "/"], answer: 1 },
            { question: "Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© ÙØ±Ø¹ÙŠØ© (Sub Menu) ÙÙŠ Ù…Ø­Ø±Ø± Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ù†Ø³ØªØ®Ø¯Ù… Ø²Ø±:", options: ["Ø§Ù„Ø³Ù‡Ù… Ù„Ù„ÙŠØ³Ø§Ø±", "Ø§Ù„Ø³Ù‡Ù… Ù„Ù„ÙŠÙ…ÙŠÙ†", "Next", "Insert"], answer: 1 },
            { question: "Ø§Ù„Ø®Ø§ØµÙŠØ© Shortcut ÙÙŠ Ù…Ø­Ø±Ø± Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… ØªØ³ØªØ®Ø¯Ù… Ù„Ù€:", options: ["ÙˆØ¶Ø¹ Ù…ÙØªØ§Ø­ Ø§Ø®ØªØµØ§Ø± Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©", "ØªØ³Ù…ÙŠØ© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©", "Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©", "ÙˆØ¶Ø¹ Ø¹Ù„Ø§Ù…Ø© ØµØ­"], answer: 0 },
            { question: "Ù„ØªØ­Ø±ÙŠÙƒ Ø£Ø¯Ø§Ø© Ø¬Ù‡Ø© Ø§Ù„ÙŠÙ…ÙŠÙ† (Right) Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„ÙƒÙˆØ¯:", options: ["Left = Left + 40", "Left = Left - 40", "Top = Top + 40", "Width = Width + 40"], answer: 0 },
            { question: "Ù„ØªØ­Ø±ÙŠÙƒ Ø£Ø¯Ø§Ø© Ø¥Ù„Ù‰ Ø£Ø¹Ù„Ù‰ (Up) Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„ÙƒÙˆØ¯:", options: ["Top = Top + 40", "Top = Top - 40", "Left = Left + 40", "Height = Height + 40"], answer: 1 },
            { question: "Ù„Ø¹ÙƒØ³ Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø· Ø§Ù„Ø¹Ø±ÙŠØ¶ (Bold) Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„ÙƒÙˆØ¯:", options: ["FontBold = True", "FontBold = False", "FontBold = Not (FontBold)", "FontBold = Val"], answer: 2 },
            { question: "Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¤Ø´Ø± (Cursor) Ø¯Ø§Ø®Ù„ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ù†Øµ Ø¨Ø±Ù…Ø¬ÙŠØ§Ù‹ Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø£Ù…Ø±:", options: ["SetFocus", "GetFocus", "Refresh", "Click"], answer: 0 },
            { question: "Ø§Ù„Ø®Ø§ØµÙŠØ© Ø§Ù„ØªÙŠ ØªØ¹Ø¨Ø± Ø¹Ù† 'Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø­Ø¯Ø¯' Ø¯Ø§Ø®Ù„ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ù†Øµ Ù‡ÙŠ:", options: ["Text", "SelText", "Caption", "Tag"], answer: 1 },
            { question: "Ø§Ù„Ù…ØªØºÙŠØ± Ù…Ù† Ø§Ù„Ù†ÙˆØ¹ (String) ÙŠØ³ØªØ®Ø¯Ù… Ù„ØªØ®Ø²ÙŠÙ†:", options: ["Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ØµØ­ÙŠØ­Ø©", "Ø§Ù„Ù†ØµÙˆØµ", "Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø´Ø±ÙŠØ©", "Ø§Ù„ØªØ§Ø±ÙŠØ®"], answer: 1 },
            { question: "Ø§Ù„Ù…ØªØºÙŠØ± Ù…Ù† Ø§Ù„Ù†ÙˆØ¹ (Integer) ÙŠØ³ØªØ®Ø¯Ù… Ù„ØªØ®Ø²ÙŠÙ†:", options: ["Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ØµØ­ÙŠØ­Ø© ÙÙ‚Ø·", "Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø´Ø±ÙŠØ©", "Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø·ÙˆÙŠÙ„Ø©", "Ø§Ù„ØµÙˆØ±"], answer: 0 },
            { question: "Ø§Ù„Ù…ØªØºÙŠØ± Ù…Ù† Ø§Ù„Ù†ÙˆØ¹ (Double) ÙŠØ³ØªØ®Ø¯Ù… Ù„ØªØ®Ø²ÙŠÙ†:", options: ["Ø§Ù„Ù†ØµÙˆØµ", "Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ØªÙŠ ØªØ­ØªÙˆÙ‰ Ø¹Ù„Ù‰ ÙƒØ³ÙˆØ±", "Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠØ©", "Ø§Ù„ÙˆÙ‚Øª"], answer: 1 },
            { question: "(ØµØ­ Ø£Ù… Ø®Ø·Ø£) Ø§Ù„Ø®Ø§ØµÙŠØ© Name ØªØ³ØªØ®Ø¯Ù… ÙÙŠ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ ÙˆØ§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ø¯Ø§Ø© Ø¨Ø±Ù…Ø¬ÙŠØ§Ù‹.", options: ["ØµØ­", "Ø®Ø·Ø£"], answer: 0 },
            { question: "(ØµØ­ Ø£Ù… Ø®Ø·Ø£) Ø£Ø¯Ø§Ø© Timer ØªØ¸Ù‡Ø± Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ø«Ù†Ø§Ø¡ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬.", options: ["ØµØ­", "Ø®Ø·Ø£"], answer: 1 },
            { question: "Ù„Ø¥Ø®ÙØ§Ø¡ Ø²Ø± Ø§Ù„ØªÙƒØ¨ÙŠØ± MaxButton Ù†ØºÙŠØ± Ø§Ù„Ø®Ø§ØµÙŠØ© MaxButton Ø¥Ù„Ù‰:", options: ["True", "False", "Visible", "Enabled"], answer: 1 },
            { question: "Ù„Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙˆØ¥ØºÙ„Ø§Ù‚Ù‡ ØªÙ…Ø§Ù…Ø§Ù‹ Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„ÙƒÙˆØ¯:", options: ["Stop", "Exit", "End", "Close"], answer: 2 }
        ];

        let currentIndex = 0;
        let shuffledQ = [];
        let userAnswers = [];

        window.onload = function() {
            const bestScore = getHighScore();
            document.getElementById('best-score-display').innerText = `${bestScore}/${questions.length}`;
        };

        function shuffle(arr) { return arr.sort(() => Math.random() - 0.5); }

        function startQuiz() {
            playSound('click'); 
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            document.getElementById('footer').style.display = 'block';

            shuffledQ = shuffle([...questions]);
            userAnswers = new Array(shuffledQ.length).fill(null);
            currentIndex = 0;
            showQuestion();
        }

        function showQuestion() {
            window.scrollTo(0,0);
            const q = shuffledQ[currentIndex];

            document.getElementById('q-idx').innerText = `Ø§Ù„Ø³Ø¤Ø§Ù„ ${currentIndex + 1}`;
            document.getElementById('q-total').innerText = shuffledQ.length;
            document.getElementById('p-bar').style.width = `${((currentIndex) / shuffledQ.length) * 100}%`;

            document.getElementById('q-text').innerText = q.question;
            const container = document.getElementById('options-container');
            container.innerHTML = '';
            
            const nextBtn = document.getElementById('next-btn');
            nextBtn.disabled = true;
            nextBtn.innerText = (currentIndex === shuffledQ.length - 1) ? "Ø¥Ù†Ù‡Ø§Ø¡ ÙˆØ¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©" : "ØªØ£ÙƒÙŠØ¯ ÙˆØªØ§Ù„ÙŠ âœ";

            q.options.forEach((opt, idx) => {
                const btn = document.createElement('div');
                btn.className = 'option-btn';
                btn.innerText = opt;
                
                if (userAnswers[currentIndex] === idx) {
                    btn.classList.add('selected');
                    nextBtn.disabled = false;
                }

                btn.onclick = () => {
                    playSound('click');
                    document.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
                    btn.classList.add('selected');
                    userAnswers[currentIndex] = idx;
                    nextBtn.disabled = false;
                    if (navigator.vibrate) navigator.vibrate(10);
                };
                container.appendChild(btn);
            });
        }

        function nextQuestion() {
            if (currentIndex < shuffledQ.length - 1) {
                currentIndex++;
                showQuestion();
            } else {
                finishQuiz();
            }
        }

        function finishQuiz() {
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('footer').style.display = 'none';
            document.getElementById('result-screen').classList.remove('hidden');

            let score = 0;
            let reviewHTML = '';
            
            shuffledQ.forEach((q, idx) => {
                if (userAnswers[idx] === q.answer) {
                    score++;
                } else {
                    const uAns = (userAnswers[idx] !== null) ? q.options[userAnswers[idx]] : "Ù„Ø§ ÙŠÙˆØ¬Ø¯";
                    const cAns = q.options[q.answer];
                    reviewHTML += `
                        <div class="review-card">
                            <div class="review-q">${q.question}</div>
                            <div class="ans-box wrong-ans">âŒ Ø¥Ø¬Ø§Ø¨ØªÙƒ: ${uAns}</div>
                            <div class="ans-box correct-ans">âœ… Ø§Ù„ØµØ­ÙŠØ­: ${cAns}</div>
                        </div>
                    `;
                }
            });

            document.getElementById('score-circle').innerText = `${score}/${shuffledQ.length}`;
            const pct = (score / shuffledQ.length) * 100;
            const msg = document.getElementById('result-msg');
            const newRecordMsg = document.getElementById('new-record-msg');

            const currentHigh = parseInt(getHighScore());
            if (score > currentHigh) {
                saveHighScore(score);
                newRecordMsg.style.display = 'block';
                playSound('win');
            } else {
                newRecordMsg.style.display = 'none';
                if (pct >= 50) playSound('win');
                else playSound('lose');
            }

            if (pct >= 90) { msg.innerText = "Ø£Ø¯Ø§Ø¡ Ø£Ø³Ø·ÙˆØ±ÙŠ! ğŸ”¥"; msg.style.color = "#03DAC6"; } 
            else if (pct >= 70) { msg.innerText = "Ù…Ù…ØªØ§Ø² Ø¬Ø¯Ø§Ù‹! âœ¨"; msg.style.color = "#BB86FC"; } 
            else { msg.innerText = "Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ ğŸ’ª"; msg.style.color = "#CF6679"; }

            if (score < shuffledQ.length) {
                document.getElementById('review-area').classList.remove('hidden');
                document.getElementById('review-list').innerHTML = reviewHTML;
            } else {
                document.getElementById('review-area').classList.add('hidden');
            }
        }

        function restartQuiz() {
            document.getElementById('result-screen').classList.add('hidden');
            const bestScore = getHighScore();
            document.getElementById('best-score-display').innerText = `${bestScore}/${questions.length}`;
            startQuiz();
        }
    </script>
</body>
</html>